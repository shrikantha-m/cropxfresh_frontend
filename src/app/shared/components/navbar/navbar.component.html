<!-- Navbar Component -->
<section
  id="relume"
  class="relative z-[999] flex min-h-16 w-full items-center border-b border-border-primary bg-background-primary px-[5%] md:min-h-18"
>
  <div class="mx-auto flex size-full max-w-full items-center justify-between">
    <!-- Logo -->
    <a routerLink="/">
      <img
        src="https://d22po4pjz3o32e.cloudfront.net/logo-image.svg"
        alt="Logo image"
      />
    </a>

    <!-- Desktop Navigation -->
    <div
      class="absolute hidden h-screen overflow-auto border-b border-border-primary bg-background-primary px-[5%] pb-24 pt-4 md:pb-0 lg:static lg:ml-6 lg:flex lg:h-auto lg:flex-1 lg:items-center lg:justify-between lg:border-none lg:bg-none lg:px-0 lg:pt-0"
    >
      <div class="flex flex-col items-center lg:flex-row">
        <!-- Main Links -->
        <a
          routerLink="/"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >Home</a
        >
        <a
          routerLink="/about"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >About Us</a
        >
        <a
          routerLink="/contact"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >Contact Us</a
        >
        <a
          routerLink="/farmers"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >Farmers</a
        >

        <!-- Products Dropdown Menu -->
        <div>
          <button
            (click)="toggleDropdown()"
            class="relative flex w-full items-center justify-between whitespace-nowrap py-3 text-md lg:w-auto lg:justify-start lg:gap-2 lg:px-4 lg:py-6 lg:text-base"
          >
            <span>Products</span>
            <span>
              <svg
                stroke="currentColor"
                fill="none"
                stroke-width="0"
                viewBox="0 0 15 15"
                height="1em"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z"
                  fill="currentColor"
                ></path>
              </svg>
            </span>
          </button>

          <!-- Products Dropdown Content -->
          <nav
            class="bottom-auto left-0 top-full w-full min-w-full max-w-full overflow-hidden bg-background-primary lg:absolute lg:w-screen lg:border-b lg:border-border-primary lg:px-[5%] lg:[--height-close:auto]"
            [ngClass]="{ hidden: !isDropdownOpen }"
          >
            <div
              class="mx-auto flex size-full max-w-full items-center justify-between"
            >
              <div class="flex w-full flex-col lg:flex-row">
                <!-- Product Group One -->
                <div
                  class="grid flex-1 auto-cols-fr grid-cols-1 gap-x-8 gap-y-6 py-4 md:grid-cols-3 md:gap-y-0 md:py-8 lg:pr-8"
                >
                  <div
                    class="grid auto-cols-fr grid-cols-1 grid-rows-[max-content_max-content_max-content_max-content] gap-y-2 md:gap-y-4"
                  >
                    <h4 class="text-sm font-semibold leading-[1.3]">
                      Product Category One
                    </h4>
                    <a
                      routerLink="/product-one"
                      class="grid w-full auto-cols-fr grid-cols-[max-content_1fr] items-start gap-x-3 py-2"
                    >
                      <div
                        class="flex size-6 flex-col items-center justify-center"
                      >
                        <img
                          src="https://d22po4pjz3o32e.cloudfront.net/relume-icon.svg"
                          alt="Icon 1"
                          class="shrink-0"
                        />
                      </div>
                      <div class="flex flex-col items-start justify-center">
                        <h5 class="font-semibold">Product One</h5>
                        <p class="hidden text-sm md:block">
                          Description for Product One
                        </p>
                      </div>
                    </a>
                    <!-- Repeat for other products -->
                  </div>
                  <!-- Product Group Two -->
                  <div
                    class="grid auto-cols-fr grid-cols-1 grid-rows-[max-content_max-content_max-content_max-content] gap-y-2 md:gap-y-4"
                  >
                    <h4 class="text-sm font-semibold leading-[1.3]">
                      Product Category Two
                    </h4>
                    <a
                      routerLink="/product-two"
                      class="grid w-full auto-cols-fr grid-cols-[max-content_1fr] items-start gap-x-3 py-2"
                    >
                      <div
                        class="flex size-6 flex-col items-center justify-center"
                      >
                        <img
                          src="https://d22po4pjz3o32e.cloudfront.net/relume-icon.svg"
                          alt="Icon 2"
                          class="shrink-0"
                        />
                      </div>
                      <div class="flex flex-col items-start justify-center">
                        <h5 class="font-semibold">Product Two</h5>
                        <p class="hidden text-sm md:block">
                          Description for Product Two
                        </p>
                      </div>
                    </a>
                    <!-- Repeat for other products -->
                  </div>
                </div>
              </div>
            </div>
          </nav>
        </div>
      </div>

      <!-- Buttons (Login, Register) -->
      <div class="flex items-center gap-4">
        <button
          (click)="navigateToLogin()"
          class="focus-visible:ring-border-primary inline-flex gap-3 items-center justify-center whitespace-nowrap ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-border-primary text-text-primary bg-background-primary px-5 py-2"
          title="Login"
        >
          Login
        </button>
        <button
          (click)="navigateToRegister()"
          class="focus-visible:ring-border-primary inline-flex gap-3 items-center justify-center whitespace-nowrap ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-border-primary bg-background-alternative text-text-alternative px-5 py-2"
          title="Register"
        >
          Register
        </button>
      </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button
      (click)="toggleMobileMenu()"
      class="-mr-2 flex size-12 cursor-pointer flex-col items-center justify-center lg:hidden"
    >
      <span class="my-[3px] h-0.5 w-6 bg-black"></span>
      <span class="my-[3px] h-0.5 w-6 bg-black"></span>
      <span class="my-[3px] h-0.5 w-6 bg-black"></span>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div
    class="absolute left-0 right-0 top-full w-full overflow-hidden lg:hidden"
    [ngClass]="{ hidden: !isMobileMenuOpen }"
  >
    <div
      class="absolute left-0 right-0 top-0 block h-dvh overflow-auto border-b border-border-primary bg-background-primary px-[5%] pb-8 pt-4"
    >
      <div class="flex flex-col">
        <a
          routerLink="/"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >Home</a
        >
        <a
          routerLink="/about"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >About Us</a
        >
        <a
          routerLink="/contact"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >Contact Us</a
        >
        <a
          routerLink="/farmers"
          class="relative block w-auto py-3 text-md lg:inline-block lg:px-4 lg:py-6 lg:text-base"
          >Farmers</a
        >
      </div>
    </div>
  </div>
</section>
