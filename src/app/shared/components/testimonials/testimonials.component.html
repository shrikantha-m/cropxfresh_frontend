<!-- testimonials.component.html -->
<section id="relume" class="overflow-hidden px-[5%] py-16 md:py-24 lg:py-28">
  <div class="container">
    <div class="relative">
      <div
        class="relative overflow-hidden"
        role="region"
        aria-roledescription="carousel"
      >
        <div>
          <div>
            <div class="flex ml-0 md:mx-3">
              <!-- Testimonial Slide -->
              <div
                *ngFor="let testimonial of testimonials; let i = index"
                role="group"
                aria-roledescription="slide"
                class="min-w-0 shrink-0 grow-0 basis-full pl-0 md:basis-full md:px-16"
                [ngClass]="{ 'hidden': i !== currentIndex }"
              >
                <div
                  class="mx-auto flex w-full max-w-lg flex-col items-center text-center"
                >
                  <div class="mb-6 flex md:mb-8">
                    <img
                      [src]="testimonial.logo"
                      alt="Webflow logo"
                      class="max-h-14"
                    />
                  </div>
                  <blockquote class="text-xl font-bold md:text-2xl">
                    {{ testimonial.quote }}
                  </blockquote>
                  <div
                    class="mt-6 flex flex-col items-center justify-center md:mt-8"
                  >
                    <div class="mb-3 md:mb-4">
                      <img
                        [src]="testimonial.avatar"
                        alt="Testimonial avatar"
                        class="size-16 min-h-16 min-w-16 rounded-full object-cover"
                      />
                    </div>
                    <p class="font-semibold">{{ testimonial.name }}</p>
                    <div class="mb-4 md:mb-0"><p>{{ testimonial.role }}</p></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Carousel Navigation Buttons -->
          <button
            (click)="previousTestimonial()"
            class="focus-visible:ring-border-primary gap-3 items-center justify-center whitespace-nowrap ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-border-primary text-text-primary absolute size-14 rounded-full bg-neutral-white left-0 top-1/2 -translate-y-1/2 hidden md:flex md:size-14"
          >
            <svg
              stroke="currentColor"
              fill="currentColor"
              stroke-width="0"
              viewBox="0 0 24 24"
              class="size-6"
              height="1em"
              width="1em"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12.707 17.293 8.414 13H18v-2H8.414l4.293-4.293-1.414-1.414L4.586 12l6.707 6.707z"
              ></path>
            </svg>
            <span class="sr-only">Previous slide</span>
          </button>
          <button
            (click)="nextTestimonial()"
            class="focus-visible:ring-border-primary gap-3 items-center justify-center whitespace-nowrap ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-border-primary text-text-primary absolute size-14 rounded-full bg-neutral-white right-0 top-1/2 -translate-y-1/2 hidden md:flex md:size-14"
          >
            <svg
              stroke="currentColor"
              fill="currentColor"
              stroke-width="0"
              viewBox="0 0 24 24"
              class="size-6"
              height="1em"
              width="1em"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"
              ></path>
            </svg>
            <span class="sr-only">Next slide</span>
          </button>

          <!-- Carousel Indicators -->
          <div class="mt-[30px] flex items-center justify-center md:mt-[46px]">
            <button
              *ngFor="let testimonial of testimonials; let i = index"
              (click)="currentIndex = i"
              class="relative mx-[3px] inline-block size-2 rounded-full"
              [ngClass]="{
                'bg-neutral-darker': i === currentIndex,
                'bg-neutral-darker/40': i !== currentIndex
              }"
            ></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
